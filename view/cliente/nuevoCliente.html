<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    
<div class="container">
    <h2>Agregar Nuevo Cliente</h2>
    <form class="row g-3 needs-validation" novalidate>
        <div class="col-md-4">
            <label for="validationCustom01" class="form-label">Tipo de identificación</label>
            <select class="form-control" id="tipoIndentificacion" name="tipoIndentificacion"></select>
            <div class="invalid-feedback">
              Por favor, ingresa un tipo de identificación.
            </div>
            <div class="valid-feedback">
              ¡Se ve bien!
            </div>
          </div>
  
        <div class="col-md-4">
          <label for="validationCustom02" class="form-label">Identificación</label>
          <input type="text" class="form-control" id="indentificacion" value="" required>
          <div class="invalid-feedback">
            Por favor, ingresa su indentificacion
          </div>
          <div class="valid-feedback">
            ¡Se ve bien!
          </div>
        </div>
        <div class="col-md-4">
          <label for="validationCustomUsername" class="form-label">Nombre:</label>
          <div class="input-group has-validation">
            <input type="text" class="form-control" id="nombreCliente" aria-describedby="inputGroupPrepend" required>
            <div class="invalid-feedback">
                Por favor, ingresa su nombre.
              </div>
              <div class="valid-feedback">
                ¡Se ve bien!
              </div>
          </div>
        </div>
        <div class="col-md-4">
            <label for="validationCustom01" class="form-label">Apellido:</label>
            <input type="text" class="form-control" id="apellidoCliente" value="" required>
            <div class="invalid-feedback">
                Por favor, ingresa su apellido.
              </div>
            <div class="valid-feedback">
              ¡Se ve bien!
            </div>
          </div>

          <div class="col-md-4">
            <label for="validationCustom02" class="form-label">Teléfono:</label>
            <input type="text" class="form-control" id="telefono" value="" required>
            <div class="invalid-feedback">
                Por favor, ingresa su telefono.
              </div>
            <div class="valid-feedback">
              ¡Se ve bien!
            </div>
          </div>
          <div class="col-md-4">
            <label for="validationCustomUsername" class="form-label">Dirección:</label>
            <div class="input-group has-validation">
              <input type="text" class="form-control" id="direccion" aria-describedby="inputGroupPrepend" required>
              <div class="invalid-feedback">
                Por favor, ingresa un dirección.
              </div>
              <div class="valid-feedback">
                ¡Se ve bien!
              </div>
            </div>
          </div>




        <div class="col-md-6">
          <label for="validationCustom03" class="form-label">Ciudad:</label>
          <input type="text" class="form-control" id="ciudad" required>
          <div class="invalid-feedback">
            Por favor, ingresa una ciudad válida.
          </div>
          <div class="valid-feedback">
            ¡Se ve bien!
          </div>
        </div>
        <div class="col-md-6">
            <label for="validationCustom03" class="form-label">Estado:</label>
            <select class="form-select" id="estado">
                <option selected>--select--</option>
                <option value="true">Activo</option>
                <option value="false">Inactivo</option>
            </select>
            
            <div class="invalid-feedback">
              Por favor, ingresa el estado del cliente.
            </div>
            <div class="valid-feedback">
                ¡Se ve bien!
              </div>
          </div>
        <div class="col-12">
          <button id="submitBtn" class="btn btn-primary" type="button">Enviar formulario</button>
        </div>
      </form>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="../../js/cliente/Cliente.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  document.getElementById('submitBtn').addEventListener('click', function(event) {
    var forms = document.getElementsByClassName('needs-validation');
    var validation = Array.prototype.filter.call(forms, function(form) {
        if (form.checkValidity() === false) {
        event.preventDefault();
        event.stopPropagation();
        form.classList.add('was-validated');
    } else {
       
        save();
    }
    });
  });

  $(document).ready(function() {
  const documentSelect = $('#tipoIndentificacion');

  $.ajax({
      url: 'http://localhost:8000/ShoeStore/v1/api/enum/type-document',
      type: 'GET',
      dataType: 'json',
      success: function(data) {
          // Limpiar el select antes de agregar opciones nuevas
          documentSelect.empty();
          
          // Agregar opciones al select
          $.each(data, function(index, option) {
              documentSelect.append($('<option></option>').attr('value', option).text(option));
          });
      },
      error: function(jqXHR, textStatus, errorThrown) {
          console.error('Error al obtener datos desde el endpoint:', errorThrown);
      }
  });
});
var numeroInput = document.getElementById('telefono');

// Agregar un evento para capturar la entrada del teclado
numeroInput.addEventListener('input', function(event) {
  var currentValue = event.target.value;
  var cleanedValue = currentValue.replace(/\D/g, '');
  var limitedValue = cleanedValue.slice(0, 10);
  

  event.target.value = limitedValue;
});

var indentificacionInput = document.getElementById('indentificacion');

// Agregar un evento para capturar la entrada del teclado
indentificacionInput.addEventListener('input', function(event) {
  var currentValue = event.target.value;
  var cleanedValue = currentValue.replace(/\D/g, '');
  var limitedValue = cleanedValue.slice(0, 10);
  

  event.target.value = limitedValue;
});
</script>
</body>
</html>
